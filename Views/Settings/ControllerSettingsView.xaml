<UserControl x:Class="SamsGameLauncher.Views.Settings.ControllerSettingsView"
            xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
            xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
            xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
            xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
            mc:Ignorable="d">
   <StackPanel Margin="10" DataContext="{Binding}">
        <TextBlock Text="DS4Windows" FontWeight="Bold" Margin="0,0,0,5"/>
        <TextBlock Text="DS4Windows increases compatibility of DualSense controllers by mapping them to act as Xbox 360 controllers."
            FontSize="10"
            Margin="0,0,0,5"/>
        <!-- DS4Windows integration row -->
        <StackPanel Orientation="Horizontal" VerticalAlignment="Center">
            <!-- Links for Download, Open, Uninstall -->
           <TextBlock VerticalAlignment="Center" Margin="0,0,0,8">
               <Hyperlink Command="{Binding DownloadInstallDs4Command}"
                          IsEnabled="{Binding CanInstallDs4}">
                   Download &amp; Install
               </Hyperlink>
               <Run Text=" | " />
               <Hyperlink Command="{Binding LaunchDs4WindowsCommand}"
                          IsEnabled="{Binding IsDs4Installed}">
                   Launch
               </Hyperlink>
               <Run Text=" | " />
               <Hyperlink Command="{Binding UninstallDs4WindowsCommand}"
                          IsEnabled="{Binding IsDs4Installed}">
                   Uninstall
               </Hyperlink>
           </TextBlock>
       </StackPanel>
        <TextBlock Text="Preconfigured for DualSense (PS5) controller; manual configuration required for other controllers."
            FontStyle="Italic"
            FontSize="10"
            Margin="0,5,0,5">
            <TextBlock.Style>
                <Style TargetType="TextBlock">
                    <Setter Property="Visibility" Value="Collapsed"/>
                    <Style.Triggers>
                        <DataTrigger Binding="{Binding IsDs4Installed}" Value="True">
                            <Setter Property="Visibility" Value="Visible"/>
                        </DataTrigger>
                    </Style.Triggers>
                </Style>
            </TextBlock.Style>
        </TextBlock>
        <!-- Enable/launch at startup checkbox -->
        <CheckBox Content="Launch on SGL Startup"
          IsChecked="{Binding LaunchDs4WindowsOnStartup}"
          IsEnabled="{Binding IsDs4Installed}">
            <CheckBox.Style>
                <Style TargetType="CheckBox">
                    <Setter Property="Visibility" Value="Collapsed"/>
                    <Style.Triggers>
                        <DataTrigger Binding="{Binding IsDs4Installed}" Value="True">
                            <Setter Property="Visibility" Value="Visible"/>
                        </DataTrigger>
                    </Style.Triggers>
                </Style>
            </CheckBox.Style>
        </CheckBox>

        <!-- AutoHotKey section -->
        <TextBlock Text="AutoHotKey" FontWeight="Bold" Margin="0,20,0,5"/>
        <TextBlock Text="AutoHotKey allows you to create custom key mappings and macros for games that don't support key customization."
            FontSize="10"
            Margin="0,0,0,5"/>
        <!-- AutoHotKey integration row -->
        <StackPanel Orientation="Horizontal" VerticalAlignment="Center">
            <!-- Links for Download, Uninstall -->
           <TextBlock VerticalAlignment="Center" Margin="0,0,0,8">
               <Hyperlink Command="{Binding DownloadInstallAutoHotKeyCommand}"
                          IsEnabled="{Binding CanInstallAutoHotKey}">
                   Download &amp; Install
               </Hyperlink>
               <Run Text=" | " />
               <Hyperlink Command="{Binding UninstallAutoHotKeyCommand}"
                          IsEnabled="{Binding IsAutoHotKeyInstalled}">
                   Uninstall
               </Hyperlink>
           </TextBlock>
       </StackPanel>
        
        <!-- Show right-click instructions when AutoHotKey is installed -->
        <TextBlock Text="Right-click on a game to configure an AutoHotKey script for that game."
            FontStyle="Italic"
            FontSize="10"
            Margin="0,5,0,5">
            <TextBlock.Style>
                <Style TargetType="TextBlock">
                    <Setter Property="Visibility" Value="Collapsed"/>
                    <Style.Triggers>
                        <DataTrigger Binding="{Binding IsAutoHotKeyInstalled}" Value="True">
                            <Setter Property="Visibility" Value="Visible"/>
                        </DataTrigger>
                    </Style.Triggers>
                </Style>
            </TextBlock.Style>
        </TextBlock>

        <!-- AHK-enabled Consoles selection (simple list) -->
        <StackPanel Margin="0,10,0,0">
            <TextBlock Text="Enable AHK for Consoles" FontWeight="Bold"/>
            <ItemsControl ItemsSource="{Binding AhkConsoleOptions}">
                <ItemsControl.Style>
                    <Style TargetType="ItemsControl">
                        <Setter Property="Visibility" Value="Collapsed"/>
                        <Style.Triggers>
                            <DataTrigger Binding="{Binding IsAutoHotKeyInstalled}" Value="True">
                                <Setter Property="Visibility" Value="Visible"/>
                            </DataTrigger>
                        </Style.Triggers>
                    </Style>
                </ItemsControl.Style>
                <ItemsControl.ItemTemplate>
                    <DataTemplate>
                        <CheckBox Content="{Binding ConsoleName}"
                                  IsChecked="{Binding IsEnabled, Mode=TwoWay}"/>
                    </DataTemplate>
                </ItemsControl.ItemTemplate>
            </ItemsControl>
        </StackPanel>
    </StackPanel>
</UserControl>